{
  "synth_version": "1.1",
  "backend": { "kind": "sygus", "solver": "cvc5", "timeout_ms": 60000 },
  "scope": { "kind": "inductive", "domain_caps": "from_model" },
  "holes": [
    {
      "hole_id": "amount0_expr",
      "kind": "expr",
      "type": "Int",
      "used_in": [{ "action": "calculate_ratio", "field": "amount0_used" }],
      "grammar_id": "G_ratio",
      "semantic_constraints": [
        "result > 0",
        "result <= amount0_desired"
      ]
    },
    {
      "hole_id": "amount1_expr",
      "kind": "expr",
      "type": "Int",
      "used_in": [{ "action": "calculate_ratio", "field": "amount1_used" }],
      "grammar_id": "G_ratio",
      "semantic_constraints": [
        "result > 0",
        "result <= amount1_desired"
      ]
    }
  ],
  "grammars": [
    {
      "grammar_id": "G_ratio",
      "start": "Expr",
      "productions": {
        "Const": ["0", "1", "10", "100"],
        "PosConst": ["1", "10", "100"],
        "Term": ["reserve0", "reserve1", "amount0_desired", "amount1_desired", "(* reserve0 Const)", "(* Const reserve1)", "(* amount0_desired Const)"],
        "Lin": ["Const", "Term", "(+ Lin Term)", "(- Lin Term)"],
        "Guard": ["(<= Lin Lin)", "(and Guard Guard)"],
        "Expr": ["Lin", "(safe_div Lin PosConst)", "(safe_div Lin Lin)", "(ite Guard Expr Expr)"]
      }
    }
  ],
  "style_profile": {
    "max_nesting": 3,
    "max_branches": 2,
    "max_ast_nodes": 12,
    "penalties": {
      "branch": 10,
      "nesting": 15,
      "ast_node": 1
    }
  },
  "objective": {
    "kind": "lexicographic",
    "goals": ["SATISFY", "MINIMIZE_COST"]
  }
}
