# Experiment 05: Multiple predicates combined
# Testing fee validation and amount checks for DEX

fee_valid(fee : bv[16]) := (fee >= { #x0000 }:bv[16]) && (fee <= { #x2710 }:bv[16]).
is_positive(x : bv[16]) := x > { #x0000 }:bv[16].

# Swap is valid if fee is valid AND amount is positive
swap_ok(fee_arg : bv[16], amount_arg : bv[16]) := fee_valid(fee_arg) && is_positive(amount_arg).

always (o1[t]:sbf = 1:sbf <-> swap_ok(i1[t]:bv[16], i2[t]:bv[16])).
